{"version":3,"file":"22.chunk.js","sources":["webpack:///./src/app/cart/cart.component.ts","webpack:///./src/app/cart/cart.module.ts","webpack:///./src/app/cart/cart.style.scss","webpack:///./src/app/cart/cart.template.html"],"sourcesContent":["import { Component, ViewEncapsulation, ElementRef, ViewChild } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { User } from './../models/User';\r\nimport { Modal } from 'ng2-modal';\r\nimport { ShoppingCartArray } from './../models/ShoppingCartArray';\r\nimport { ShoppingCartService } from './../services/ShoppingCartService';\r\n\r\n@Component({\r\n  selector: 'cart',\r\n  styles: [require('./cart.style.scss')],\r\n  template: require('./cart.template.html'),\r\n  providers: [ShoppingCartService],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class CartComponent {\r\n  router: Router;\r\n  public user: User;\r\n  public shoppingCartArray: ShoppingCartArray[];\r\n  public TotalPrice: number;\r\n  public LastTotalPrice: number;\r\n  public TotalShippingPrice: number;\r\n  public productToRemove: number;\r\n  @ViewChild('itemDeleteConfirmation')\r\n  private signUPModalComponent: Modal;\r\n  constructor(public _shoppingCartService: ShoppingCartService, router: Router) {\r\n    this.router = router;\r\n    this.user = JSON.parse(localStorage.getItem('user'));\r\n    console.log(this.user);\r\n    if (this.user != null) {\r\n      this._shoppingCartService.getAllShoppingCartItems(this.user.Id).subscribe(\r\n        a => {\r\n          this.TotalPrice = a.TotalPrice;\r\n          this.TotalShippingPrice = a.TotalShippingPrice;\r\n          this.LastTotalPrice = this.TotalPrice + this.TotalShippingPrice;\r\n          this.shoppingCartArray = a.shoppingCartItemDTOList;\r\n          if (this.shoppingCartArray.length == 0) {\r\n          this.TotalPrice = 0;\r\n          this.TotalShippingPrice = 0;\r\n          this.LastTotalPrice = 0;\r\n          jQuery('#checkoutbtn').hide();\r\n        }\r\n          else {\r\n            jQuery('#checkoutbtn').show();\r\n          }\r\n        }\r\n      );\r\n    }\r\n  }\r\n  openDeleteConfirmationModal(idToDel) {\r\n    this.productToRemove = idToDel;\r\n    this.signUPModalComponent.open();\r\n\r\n  }\r\n  cancle() {\r\n    this.signUPModalComponent.close();\r\n\r\n  }\r\n  delete() {\r\n    this.deleteCartItem(this.productToRemove);\r\n  }\r\n\r\n  onQuantityChange(shoppingCartItemId, quantity,index) {\r\n\r\n    let customerId = JSON.parse(localStorage.getItem('user')).Id;\r\n    this.shoppingCartArray[index].quantity=quantity;\r\n    this._shoppingCartService.updateShoppingCartItem(customerId, shoppingCartItemId, quantity).subscribe(\r\n      a => {\r\n        console.log(a);\r\n       this.TotalPrice = a.data.TotalPrice;\r\n          this.TotalShippingPrice = a.data.TotalShippingPrice;\r\n          this.LastTotalPrice = this.TotalPrice + this.TotalShippingPrice;\r\n          this.shoppingCartArray = a.data.shoppingCartItemDTOList;\r\n      }\r\n    );\r\n   /* this.user = JSON.parse(localStorage.getItem('user'));\r\n    console.log(this.user);\r\n    if (this.user != null) {\r\n      this._shoppingCartService.getAllShoppingCartItems(this.user.Id).subscribe(\r\n        a => {\r\n          this.TotalPrice = a.TotalPrice;\r\n          this.TotalShippingPrice = a.TotalShippingPrice;\r\n          this.LastTotalPrice = this.TotalPrice + this.TotalShippingPrice;\r\n          this.shoppingCartArray = a.shoppingCartItemDTOList;\r\n\r\n        }\r\n      );\r\n    }*/\r\n\r\n\r\n  }\r\n\r\n  deleteCartItem(shoppingCartItemId) {\r\n    this._shoppingCartService.deleteShoppingCartItem(this.user.Id, shoppingCartItemId, 1).subscribe(\r\n      a => {\r\n        this.TotalPrice = a.data.TotalPrice;\r\n        this.TotalShippingPrice = a.data.TotalShippingPrice;\r\n        this.LastTotalPrice = this.TotalPrice + this.TotalShippingPrice;\r\n        this.shoppingCartArray = a.data.shoppingCartItemDTOList;\r\n        if (this.shoppingCartArray.length == 0) {\r\n          this.TotalPrice = 0;\r\n          this.TotalShippingPrice = 0;\r\n          this.LastTotalPrice = 0;\r\n          jQuery('#checkoutbtn').hide();\r\n        }\r\n        this.signUPModalComponent.close();\r\n      }\r\n    );\r\n  }\r\n  checkout() {\r\n\r\n    this.router.navigate(['/app/checkout']);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[//n//r]//s*//.|//.)import//((.+)//)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/cart/cart.component.ts","import { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { ModalModule } from 'ng2-modal';\r\n\r\nimport { CartComponent } from './cart.component.ts';\r\n\r\nexport const routes = [\r\n  { path: '', component: CartComponent, pathMatch: 'full' }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CartComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ModalModule,\r\n    FormsModule,\r\n    RouterModule.forChild(routes),\r\n  ]\r\n})\r\nexport default class CartModule {\r\n  static routes = routes;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[//n//r]//s*//.|//.)import//((.+)//)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/cart/cart.module.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/cart/cart.style.scss\n// module id = ./src/app/cart/cart.style.scss\n// module chunks = 22","module.exports = \"<div class=\\\"container-fluid cart-page\\\">\\n\\n    <h1 class=\\\"page-heading\\\">Shopping Cart</h1>\\n\\n\\n\\n    <div class=\\\"row main-row\\\">\\n\\n    <div class=\\\"col-md-8 col-sm-12 col-xs-12 col-lg-8\\\">  \\n        \\n         <div *ngFor=\\\"let shoppingCartItem of shoppingCartArray;let i=index\\\" class=\\\"row order-row\\\">   <!-- order row starts -->\\n                  \\n\\n             <div class=\\\"col-md-5 col-sm-5 col-xs-12 col-lg-5\\\">\\n\\n                <div class=\\\"order-image\\\" [ngStyle]=\\\"{'background-image': 'url(' + shoppingCartItem.pictureUrl + ')'}\\\">\\n                </div>\\n\\n             </div>\\n\\n             <div class=\\\"col-md-6 col-sm-6 col-lg-6 text-data\\\">\\n\\n                <div class=\\\"row\\\">\\n\\n                 <p class=\\\"order-heading\\\">{{shoppingCartItem.productName}}</p>\\n\\n                </div>\\n\\n                <div class=\\\"row\\\">\\n                    \\n                 </div>\\n                 <div class=\\\"row\\\">\\n                 <div class=\\\"order-size\\\" [innerHTML]=\\\"shoppingCartItem.AttributeInfo\\\">\\n                        \\n                 </div>\\n                 \\n\\n                \\n\\n                </div>\\n                \\n\\n\\n                <div class=\\\"row\\\">\\n\\n                                    <div class=\\\"order-quantity\\\">\\n\\n                        <div class=\\\"size-heading\\\">\\n                            <p>Quantity:</p>\\n                        </div>\\n\\n                        <div class=\\\"size-value\\\">\\n                            <div class=\\\"selections\\\">\\n                                    <div class=\\\"fancy_select select-category\\\">\\n                                        <div class=\\\"select_triger\\\">\\n                                            <span class=\\\"text\\\">{{shoppingCartItem.quantity}}</span>\\n                                            <i class=\\\"fa fa-angle-down\\\"></i>\\n                                        </div>\\n                                        <div class=\\\"select_options\\\">\\n                                            <span (click)=\\\"onQuantityChange(shoppingCartItem.shoppingItemCartId,1,i)\\\" [ngClass]=\\\"{'selected': shoppingCartItem.quantity == 1}\\\">1</span>\\n                                            <span (click)=\\\"onQuantityChange(shoppingCartItem.shoppingItemCartId,2,i)\\\" [ngClass]=\\\"{'selected': shoppingCartItem.quantity == 2}\\\">2</span>\\n                                            <span (click)=\\\"onQuantityChange(shoppingCartItem.shoppingItemCartId,3,i)\\\" [ngClass]=\\\"{'selected': shoppingCartItem.quantity == 3}\\\">3</span>\\n                                            <span (click)=\\\"onQuantityChange(shoppingCartItem.shoppingItemCartId,4,i)\\\" [ngClass]=\\\"{'selected': shoppingCartItem.quantity == 4}\\\">4</span>\\n                                            <span (click)=\\\"onQuantityChange(shoppingCartItem.shoppingItemCartId,5,i)\\\" [ngClass]=\\\"{'selected': shoppingCartItem.quantity == 5}\\\">5</span>\\n                                        </div>\\n                                    </div> \\n                            </div>\\n                        </div>\\n\\n                 </div> \\n\\n                </div>\\n\\n\\n                    <div class=\\\"row\\\">\\n\\n                      <div class=\\\"order-shipping\\\">\\n\\n                        <div class=\\\"size-heading\\\">\\n                            <p>Shipping:</p>\\n                        </div>\\n\\n                        <div class=\\\"size-value\\\">\\n                            <p>{{shoppingCartItem.shippingCost}}</p>\\n                        </div>\\n\\n                    </div> \\n\\n                </div>\\n\\n                <div class=\\\"row\\\">\\n\\n                    <div class=\\\"order-arrival\\\">\\n\\n                        <div class=\\\"size-heading\\\">\\n                            <p>Estimated Arrival:</p>\\n                        </div>\\n\\n                        <div class=\\\"size-value\\\">\\n                            <p>{{shoppingCartItem.estimatedShippingTime}}</p>\\n                        </div>\\n\\n                    </div> \\n\\n                </div>\\n\\n                <div class=\\\"row\\\">\\n\\n                    <div class=\\\"order-price\\\">\\n\\n                        <div *ngIf=\\\"shoppingCartItem.oldPrice != 0\\\" class=\\\"oldPrice\\\">\\n                            <p><del>${{shoppingCartItem.oldPrice}}</del></p>\\n                        </div>\\n\\n                        <div class=\\\"newPrice\\\">\\n                            <p>Item Price: ${{shoppingCartItem.price}}</p>\\n                        </div>\\n\\n                    </div> \\n\\n                </div>\\n\\n                \\n            </div>\\n\\n\\n                <div class=\\\"col-md-1 col-sm-1 col-lg-1 col-xs-12 deleter\\\">\\n                    <div (click)=\\\"openDeleteConfirmationModal(shoppingCartItem.shoppingItemCartId)\\\" class=\\\"delete-row\\\">\\n                        <span>x</span>\\n                   </div>\\n                </div>\\n\\n\\n        </div>   <!-- order row ends -->\\n          \\n\\n\\n\\n\\n    </div>   \\n\\n\\n    <div class=\\\"col-md-4 col-sm-8 col-xs-12\\\">   <!-- Order summary column -->\\n\\n            <div class=\\\"order-summary\\\">  <!-- order -summary div-->\\n\\n                    <h1 class=\\\"order-summary-heading\\\">Order Summary</h1>\\n\\n                <div class=\\\"row\\\">\\n                    <div class=\\\"left-item-total\\\">\\n\\n                            <div class=\\\"item-total-heading\\\">\\n                                <p>Item Total:</p>\\n                            </div>\\n                            <div class=\\\"item-total-value\\\">\\n                                <p>${{TotalPrice}}</p>\\n                            </div>\\n\\n                    </div>\\n                </div>\\n\\n                <div class=\\\"row\\\">\\n                    <div class=\\\"left-estimated-shipping\\\">\\n\\n                            <div class=\\\"item-total-heading\\\">\\n                                <p>Estimated Shipping:</p>\\n                            </div>\\n                            <div class=\\\"item-total-value\\\">\\n                                <p>${{TotalShippingPrice}}</p>\\n                            </div>\\n\\n                    </div>\\n                </div>\\n\\n                <div class=\\\"row\\\">\\n                    <div class=\\\"left-order-total\\\">\\n\\n                             <div class=\\\"item-total-heading\\\">\\n                                <p class=\\\"final-total\\\">TOTAL</p>\\n                            </div>\\n                            <div class=\\\"item-total-value\\\">\\n                                <p class=\\\"final-total\\\">${{LastTotalPrice}} <small>USD</small></p>\\n                            </div>\\n\\n                    </div>\\n                </div>\\n\\n            </div>   <!-- order -summary div ends-->\\n                    \\n                    \\n                    \\n                    <div class=\\\"checkout-button\\\">\\n\\n                        <button id=\\\"checkoutbtn\\\"  class=\\\"btn btn-checkout\\\" (click)=\\\"checkout()\\\">Checkout</button>\\n\\n                    </div>\\n\\n    </div>  <!-- Order summary column ends -->\\n\\n\\n\\n</div>\\n\\n<modal #itemDeleteConfirmation \\n[closeOnOutsideClick]=\\\"true\\\" [closeOnEscape]=\\\"true\\\" [hideCloseButton]=\\\"true\\\" >\\n  <modal-header>\\n    <div class=\\\"modal-logo\\\">\\n    </div>\\n  </modal-header>\\n  <modal-content>\\n    <div class=\\\"modal-div\\\">\\n       Are you sure that you want to remove this product from the cart?\\n       <hr>\\n        <div>\\n        <div class=\\\"row semibold signUp-btn-div\\\">\\n            <a (click)=\\\"delete()\\\" class=\\\"btn btn-block socialBtn login\\\">\\n                Yes\\n            </a>\\n        </div>\\n         <div class=\\\"row semibold signUp-btn-div\\\">\\n            <a (click)=\\\"cancle()\\\" class=\\\"btn btn-block socialBtn login\\\">\\n                No\\n            </a>\\n        </div>\\n        </div>\\n    </div>\\n    \\n  </modal-content>\\n</modal>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/cart/cart.template.html\n// module id = ./src/app/cart/cart.template.html\n// module chunks = 22"],"mappings":";;;;;;;AAAA;AACA;AAEA;AAEA;AASA;AAUA;AAVA;AAUA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;AAYA;AAGA;AAEA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAzFA;AAAA;;AAAA;AAfA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAAA;AAmGA;;AAAA;AAlGA;;;;;;;;;;;ACdA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAaA;AAAA;AAEA;AADA;AAZA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAAA;AAGA;AAAA;AAFA;AAEA;;;;;;;;ACzBA;;;;;;;ACAA;;;;","sourceRoot":""}