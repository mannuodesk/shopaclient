{"version":3,"file":"19.chunk.js","sources":["webpack:///./src/app/checkout/checkout.component.ts","webpack:///./src/app/checkout/checkout.module.ts","webpack:///./src/app/checkout/checkout.style.scss","webpack:///./src/app/checkout/checkout.template.html","webpack:///./src/app/models/ShippingAddressModel.ts","webpack:///./src/app/services/CheckoutService.ts"],"sourcesContent":["import { Component, ViewEncapsulation } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Country } from 'app/models/CountryModel';\r\nimport { ShippingAddress } from 'app/models/ShippingAddressModel';\r\nimport { CheckoutService } from 'app/services/CheckoutService';\r\nimport { User } from './../models/User';\r\nimport { ShoppingCartArray } from './../models/ShoppingCartArray';\r\nimport { PaymentModel } from './../models/PaymentModel';\r\nimport { ShoppingCartService } from './../services/ShoppingCartService';\r\nimport { State } from './../models/StateModel';\r\nimport {  NgZone } from '@angular/core';\r\n\r\n\r\n@Component({\r\n  selector: 'checkout',\r\n  styles: [require('./checkout.style.scss')],\r\n  template: require('./checkout.template.html'),\r\n  providers: [CheckoutService, ShoppingCartService]\r\n})\r\nexport class CheckoutComponent {\r\n  router: Router;\r\n  public user: User;\r\n  public Address1: string;\r\n  public Address2: string;\r\n  public City: string;\r\n  public Country: string;\r\n  public CountryId: number = -1;\r\n  public CreatedOnUtc: Date;\r\n  public Email: string;\r\n  public FaxNumber?: any;\r\n  public FirstName: string;\r\n  public LastName: string;\r\n  public states: State[] = [];\r\n  public paymentModel: PaymentModel;\r\n   cardNumber: string;\r\n  expiryMonth: string;\r\n  expiryYear: string;\r\n  cvc: string;\r\n  PhoneNumber: string;\r\n  StateProvinceId?: any;\r\n  StateProvinceText: string;\r\n  ZipPostalCode: string;\r\n  save: boolean;\r\n  message?: any;\r\n  userRole: any;\r\n  public creditCardNumber: string;\r\n  public SecurityCode: string;\r\n  public ZipPostal: string;\r\n  public MonthOfExpiry: number;\r\n  public YearOfExpiry: number;\r\n  public customerId: number;\r\n  public shippingAddress: ShippingAddress;\r\n  // public _shippingAddress: ShippingAddress[]=[];\r\n  public countries: Country[] = [];\r\n  public TotalPrice: number;\r\n  public LastTotalPrice: number;\r\n  public TotalShippingPrice: number;\r\n  public Guest: any;\r\n  public shoppingCartArray: ShoppingCartArray[];\r\n  constructor(public _shoppingCartService: ShoppingCartService, public _checkoutService: CheckoutService, router: Router,\r\n  private _zone: NgZone) {\r\n    this.router = router;\r\n    this.Guest = \"Guests\";\r\n    this.userRole = JSON.parse(localStorage.getItem('user')).role;\r\n    this.user = JSON.parse(localStorage.getItem('user'));\r\n    this.shippingAddress = new ShippingAddress();\r\n    this.populateAllCountries();\r\n    this.shippingAddress = new ShippingAddress();\r\n\r\n\r\n    //this.paymentModel.CreditCardNumber=\"444\";\r\n    this._shoppingCartService.getAllShoppingCartItems(this.user.Id).subscribe(\r\n      a => {\r\n\r\n        this.TotalPrice = a.TotalPrice;\r\n        this.TotalShippingPrice = a.TotalShippingPrice;\r\n        this.LastTotalPrice = this.TotalPrice + this.TotalShippingPrice;\r\n        this.shoppingCartArray = a.shoppingCartItemDTOList;\r\n        console.log(a.shoppingCartItemDTOList);\r\n      }\r\n    );\r\n  }\r\n\r\n  onCountryChange() {\r\n\r\n    this.CountryId = jQuery('#countryId').val();\r\n    this.Country = jQuery(\"#countryId option[value=\" + this.CountryId + \"]\").text().trim();\r\n\r\n    this.getStatesByCountry(this.CountryId);\r\n  }\r\n  onStateChange() {\r\n\r\n    this.StateProvinceId = jQuery('#stateId').val();\r\n    for (var i = 0; i < this.states.length; i++) {\r\n      if (this.states[i].stateId == this.StateProvinceId) {\r\n        this.StateProvinceText = this.states[i].stateName;\r\n        break;\r\n      }\r\n    }\r\n    this.getStatesByCountry(this.CountryId);\r\n  }\r\n\r\n  populateAllCountries() {\r\n    this._checkoutService.getAllCountries().subscribe(\r\n      a => {\r\n\r\n        this.countries = a.data;\r\n        this.populateShippingInfo();\r\n      });\r\n  }\r\n\r\n  getStatesByCountry(countryId) {\r\n    this._checkoutService.getAllStatesOfConutry(countryId).subscribe(\r\n      a => {\r\n\r\n        console.log(a);\r\n        this.states = a.data;\r\n        jQuery('#stateId').val(this.StateProvinceId);\r\n      }\r\n\r\n    );\r\n  }\r\n\r\n getToken() {\r\n    this.message = 'Loading...';\r\n\r\n    (<any>window).Stripe.card.createToken({\r\n      number: this.cardNumber,\r\n      exp_month: jQuery('#expiryMonth').val(),\r\n      exp_year: jQuery('#expiryYear').val(),\r\n      cvc: this.cvc\r\n    }, (status: number, response: any) => {\r\n\r\n      // Wrapping inside the Angular zone\r\n      this._zone.run(() => {\r\n        if (status === 200) {\r\n          this.message = `Success! Card token ${response.card.id}.`;\r\n        } else {\r\n          this.message = response.error.message;\r\n        }\r\n      });\r\n    });\r\n  }\r\n  populateShippingInfo() {\r\n    this._checkoutService.getShippingAddress(this.user.Id).subscribe(\r\n      a => {\r\n        console.log(a);\r\n        if (a.data.shippingAddress != null) {\r\n          this.shippingAddress = a.data.shippingAddress;\r\n          this.FirstName = this.shippingAddress.FirstName;\r\n          this.Address1 = this.shippingAddress.Address1;\r\n          this.Address2 = this.shippingAddress.Address2;\r\n          this.City = this.shippingAddress.City;\r\n          this.Country = this.shippingAddress.Country;\r\n          this.CountryId = this.shippingAddress.CountryId;\r\n          jQuery('#countryId').val(this.CountryId);\r\n          this.getStatesByCountry(this.CountryId);\r\n          this.FaxNumber = this.shippingAddress.FaxNumber;\r\n          this.CreatedOnUtc = this.shippingAddress.CreatedOnUtc;\r\n          this.PhoneNumber = this.shippingAddress.PhoneNumber;\r\n          this.ZipPostalCode = this.shippingAddress.ZipPostalCode;\r\n          this.StateProvinceId = this.shippingAddress.StateProvinceId;\r\n          this.StateProvinceText = this.shippingAddress.StateProvinceText;\r\n          this.Email = this.shippingAddress.Email.trim();\r\n          if (this.Email == \"\") {\r\n            console.log(\"No Email\");\r\n\r\n          }\r\n        }\r\n\r\n      }\r\n\r\n    );\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  populateShippingModel() {\r\n      var checkErrorCount = 0;\r\n      if (this.FirstName !== undefined && this.FirstName != \"\" && this.FirstName.trim().length != 0) {\r\n        this.shippingAddress.FirstName = this.FirstName;\r\n      }\r\n      else {\r\n        jQuery('#firstNameRequiredError').show();\r\n        checkErrorCount = checkErrorCount + 1;\r\n      }\r\n      if (this.userRole == \"Guests\") {\r\n        if (this.Email !== undefined && this.Email != \"\" && this.Email.trim().length != 0) {\r\n          if (this.validateEmail(this.Email) == false) {\r\n      checkErrorCount = checkErrorCount + 1;\r\n      jQuery('#emailNotValidError').show();\r\n     \r\n    }else\r\n          this.shippingAddress.Email = this.Email;\r\n        }\r\n        else {\r\n          jQuery('#EmailRequiredError').show();\r\n          checkErrorCount = checkErrorCount + 1;\r\n        }\r\n\r\n        \r\n      }\r\n      if (this.Address1 !== undefined && this.Address1 != \"\") {\r\n        this.shippingAddress.Address1 = this.Address1;\r\n      }\r\n      else {\r\n        jQuery('#addressLineOneRequiredError').show();\r\n        checkErrorCount = checkErrorCount + 1;\r\n      }\r\n      if (this.City !== undefined && this.City != \"\") {\r\n        this.shippingAddress.City = this.City;\r\n      }\r\n      else {\r\n        jQuery('#cityRequiredError').show();\r\n        checkErrorCount = checkErrorCount + 1;\r\n      }\r\n      if (jQuery('#countryId').val() !== null) {\r\n        this.shippingAddress.CountryId = jQuery('#countryId').val();\r\n      }\r\n      else {\r\n        jQuery('#countryRequiredError').show();\r\n\r\n        checkErrorCount = checkErrorCount + 1;\r\n      }\r\n      if (this.PhoneNumber == undefined || this.PhoneNumber == \"\" || this.PhoneNumber.trim().length == 0) {\r\n        jQuery('#telephoneNumberRequiredError').show();\r\n\r\n        checkErrorCount = checkErrorCount + 1;\r\n\r\n      } else {\r\n        this.shippingAddress.PhoneNumber = this.PhoneNumber;\r\n      }\r\n      if (this.ZipPostalCode !== undefined && this.ZipPostalCode != \"\") {\r\n        this.shippingAddress.ZipPostalCode = this.ZipPostalCode;\r\n      }\r\n      else {\r\n        jQuery('#zipPostalCodeRequiredError').show();\r\n        checkErrorCount = checkErrorCount + 1;\r\n      }\r\n      if (this.StateProvinceText !== undefined && this.StateProvinceText != \"\") {\r\n        this.shippingAddress.StateProvinceText = this.StateProvinceText;\r\n      }\r\n      else {\r\n        jQuery('#stateProvinceRequiredError').show();\r\n        checkErrorCount = checkErrorCount + 1;\r\n      }\r\n      if (checkErrorCount == 0) {\r\n        this.shippingAddress.Address2 = this.Address2;\r\n        this.shippingAddress.StateProvinceId = this.StateProvinceId;\r\n        this.shippingAddress.PhoneNumber = this.PhoneNumber;\r\n        return true;\r\n      }\r\n      else {\r\n        return false;\r\n      }\r\n    }\r\n      populatePaymentModel() {\r\n    var checkErrorCount = 0;\r\n    if (this.creditCardNumber == undefined || this.creditCardNumber == \"\" || this.creditCardNumber.trim().length == 0) {\r\n      console.log(\"No credit information\");\r\n        jQuery('#creditCardNumberRequiredError').show();\r\n      checkErrorCount = checkErrorCount + 1;\r\n    }\r\n    \r\n    if (checkErrorCount == 0) {\r\n      return true;\r\n    }\r\n    else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  addPaymentInfo() {\r\n    jQuery('.error').hide();\r\n    var flag = this.populatePaymentModel();\r\nif(flag==false)\r\n{\r\n    jQuery(\".checkout-form .step1\").hide();\r\n            jQuery(\".checkout-form .step3\").hide();\r\n            jQuery(\".checkout-form .step2\").show();\r\n            jQuery(\".checkout-tabs li\").removeClass(\"active\");\r\n            jQuery(\".checkout-tabs li:nth-child(2)\").addClass(\"active\");\r\n}\r\n\r\n  }\r\n\r\n   validateEmail(email) {\r\n    var re = /\\S+@\\S+\\.\\S+/;\r\n    return re.test(email);\r\n  }\r\n\r\n  addShippingInfo() {\r\n    console.log(jQuery(\"#countryId\").val());\r\n    jQuery('.error').hide();\r\n    var flag = this.populateShippingModel();\r\n    this.shippingAddress.customerId = this.user.Id;\r\n    this.shippingAddress.orderId = 0;\r\n    if (flag == true) {\r\n      console.log(this.shippingAddress);\r\n      this._checkoutService.addShippingInformation(this.shippingAddress).subscribe(\r\n        a => {\r\n          if (a.code == 200) {\r\n            console.log(a);\r\n            jQuery(\".checkout-form .step1\").hide();\r\n            jQuery(\".checkout-form .step3\").hide();\r\n            jQuery(\".checkout-form .step2\").show();\r\n            jQuery(\".checkout-tabs li\").removeClass(\"active\");\r\n            jQuery(\".checkout-tabs li:nth-child(2)\").addClass(\"active\")\r\n          }\r\n        }\r\n      );\r\n    }\r\n  }\r\n  ngOnInit(): void {\r\n    jQuery(\"body\").on(\"click\", \".checkout-form .step2-next\", function (e) {\r\n      var $this = $(this);\r\n      e.preventDefault();\r\n      $(\".checkout-form .step1\").hide();\r\n      $(\".checkout-form .step2\").hide();\r\n      $(\".checkout-form .step3\").show();\r\n      $(\".checkout-tabs li\").removeClass(\"active\");\r\n      $(\".checkout-tabs li:nth-child(3)\").addClass(\"active\")\r\n    });\r\n\r\n    jQuery(\"body\").on(\"click\", \".checkout-form .edit-step1\", function (e) {\r\n      var $this = jQuery(this);\r\n      e.preventDefault();\r\n      $(\".checkout-form .step2\").hide();\r\n      $(\".checkout-form .step3\").hide();\r\n      $(\".checkout-form .step1\").show();\r\n      $(\".checkout-tabs li\").removeClass(\"active\");\r\n      $(\".checkout-tabs li:nth-child(1)\").addClass(\"active\")\r\n    });\r\n    jQuery(\"body\").on(\"click\", \".checkout-form .edit-step2\", function (e) {\r\n      var $this = jQuery(this);\r\n      e.preventDefault();\r\n      jQuery(\".checkout-form .step1\").hide();\r\n      jQuery(\".checkout-form .step3\").hide();\r\n      jQuery(\".checkout-form .step2\").show();\r\n      jQuery(\".checkout-tabs li\").removeClass(\"active\");\r\n      jQuery(\".checkout-tabs li:nth-child(2)\").addClass(\"active\")\r\n    });\r\n  }\r\n\r\n\r\n  onPlaceOrder() {\r\n    console.log('Place Order');\r\n    this._checkoutService.placeOrder(this.user.Id).subscribe(\r\n      a => {\r\n        if (a.code == 200) {\r\n          console.log('Place Order');\r\n          this.router.navigate(['/app/index']);\r\n        }else if(a.code==400)\r\n        {\r\n          console.log(\"Error\"+a.data);\r\n        }\r\n      }\r\n\r\n    );\r\n\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/checkout/checkout.component.ts","import { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { CheckoutComponent } from './checkout.component.ts';\r\n\r\nexport const routes = [\r\n  { path: '', component: CheckoutComponent, pathMatch: 'full' }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CheckoutComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    RouterModule.forChild(routes),\r\n  ]\r\n})\r\nexport default class CheckoutModule {\r\n  static routes = routes;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/checkout/checkout.module.ts","module.exports = \"/* Osama khawar's Code for checkout */\\n.nav-pills.nav-wizard > li {\\n  position: relative;\\n  overflow: visible;\\n  border-right: 15px solid transparent;\\n  border-left: 15px solid transparent; }\\n\\n.nav-pills.nav-wizard > li + li {\\n  margin-left: 0; }\\n\\n.nav-pills.nav-wizard > li:first-child {\\n  border-left: 0; }\\n\\n.nav-pills.nav-wizard > li:first-child a {\\n  border-radius: 5px 0 0 5px; }\\n\\n.nav-pills.nav-wizard > li:last-child {\\n  border-right: 0; }\\n\\n.nav-pills.nav-wizard > li:last-child a {\\n  border-radius: 0 5px 5px 0; }\\n\\n.nav-pills.nav-wizard > li a {\\n  border-radius: 0;\\n  background-color: #eee; }\\n\\n.nav-pills.nav-wizard > li:not(:last-child) a:after {\\n  position: absolute;\\n  content: \\\"\\\";\\n  top: 0px;\\n  right: -20px;\\n  width: 0px;\\n  height: 0px;\\n  border-style: solid;\\n  border-width: 20px 0 20px 20px;\\n  border-color: transparent transparent transparent #eee;\\n  z-index: 150; }\\n\\n.nav-pills.nav-wizard > li:not(:first-child) a:before {\\n  position: absolute;\\n  content: \\\"\\\";\\n  top: 0px;\\n  left: -20px;\\n  width: 0px;\\n  height: 0px;\\n  border-style: solid;\\n  border-width: 20px 0 20px 20px;\\n  border-color: #eee #eee #eee transparent;\\n  z-index: 150; }\\n\\n.nav-pills.nav-wizard > li:hover:not(:last-child) a:after {\\n  border-color: transparent transparent transparent #aaa; }\\n\\n.nav-pills.nav-wizard > li:hover:not(:first-child) a:before {\\n  border-color: #aaa #aaa #aaa transparent; }\\n\\n.nav-pills.nav-wizard > li:hover a {\\n  background-color: #aaa;\\n  color: #fff; }\\n\\n.nav-pills.nav-wizard > li.active:not(:last-child) a:after {\\n  border-color: transparent transparent transparent #428bca; }\\n\\n.nav-pills.nav-wizard > li.active:not(:first-child) a:before {\\n  border-color: #428bca #428bca #428bca transparent; }\\n\\n.nav-pills.nav-wizard > li.active a {\\n  background-color: #428bca; }\\n\\n#telephoneNumberRequiredError {\\n  display: none; }\\n\\n#zipPostalCodeRequiredError {\\n  display: none; }\\n\\n#stateProvinceRequiredError {\\n  display: none; }\\n\\n#cityRequiredError {\\n  display: none; }\\n\\n#countryRequiredError {\\n  display: none; }\\n\\n#addressLineOneRequiredError {\\n  display: none; }\\n\\n#firstNameSeverityError {\\n  display: none; }\\n\\n#firstNameRequiredError {\\n  display: none; }\\n\\n.error label {\\n  margin-top: 0px;\\n  color: red !important; }\\n\\n.error {\\n  margin-top: 0px; }\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/checkout/checkout.style.scss\n// module id = ./src/app/checkout/checkout.style.scss\n// module chunks = 19","module.exports = \"<div class=\\\"main-section\\\">\\n        {{message}}\\n    <div class=\\\"container\\\">\\n        <div class=\\\"checkout-page\\\">\\n            \\n            <div class=\\\"my-checkout\\\">\\n                <div class=\\\"row\\\">\\n                    <div class=\\\"col-sm-12 col-md-7 col-lg-7 col-xs-12\\\"> <!-- Left column starts -->\\n                        <div class=\\\"checkout-form clearfix\\\">\\n                            <ul class=\\\"checkout-tabs clearfix\\\">\\n                                <li class=\\\"active\\\">Ship to</li>\\n                                <li>Payment</li>\\n                                <li>Review</li>\\n                            </ul>\\n\\n                            <div class=\\\"heading-top\\\">\\n                                \\n                    \\n                            <div class=\\\"step1\\\">\\n                                   <div class=\\\"left-page-heading\\\">\\n                                    <h5 class=\\\"ship-to\\\">SHIP TO</h5>\\n                                </div>\\n                                <div class=\\\"right-required\\\">\\n                                    <p><span class=\\\"required\\\">*</span>Required</p>\\n                                </div>\\n\\n                                <div class=\\\"clearfix\\\"></div>\\n                                <ul class=\\\"form-details\\\">\\n                                    <li class=\\\"clearfix\\\">\\n                                        <div class=\\\"text\\\"><label class=\\\"required\\\">Full name</label></div>\\n                                        <div class=\\\"selection\\\">\\n                                            <input type=\\\"text\\\" [(ngModel)]=\\\"FirstName\\\" >\\n                                        </div>\\n                                        <div id=\\\"firstNameRequiredError\\\" class=\\\"error\\\">\\n                                            <label class=\\\"texxt\\\">Full Name is Required</label>\\n                                        </div>\\n                                        <div id=\\\"firstNameSeverityError\\\" class=\\\"error\\\">\\n                                            <label class=\\\"texxt\\\">Name cannot contain numbers</label>\\n                                        </div>\\n                                    </li>\\n                                   \\n\\n                                    <li class=\\\"clearfix\\\" *ngIf=\\\"userRole==Guest\\\">\\n                                        <div class=\\\"text\\\"><label class=\\\"required\\\">Email</label></div>\\n                                        <div class=\\\"selection\\\">\\n                                            <input type=\\\"email\\\" required  [(ngModel)]=\\\"Email\\\"/>\\n                                        </div>\\n                                        <div id=\\\"EmailRequiredError\\\" class=\\\"error\\\">\\n                                            <label class=\\\"texxt\\\">Email is Required</label>\\n                                        </div>\\n                                        <div id=\\\"emailNotValidError\\\" class=\\\"error\\\">\\n                                            <label class=\\\"texxt\\\">Email is Invalid</label>\\n                                        </div>\\n                                    </li>\\n\\n                                    <li class=\\\"clearfix\\\">\\n                                        <div class=\\\"text\\\"><label class=\\\"required\\\">Address Line 1</label></div>\\n                                        <div class=\\\"selection\\\">\\n                                            <input type=\\\"text\\\" [(ngModel)]=\\\"Address1\\\"/>\\n                                        </div>\\n                                        <div id=\\\"addressLineOneRequiredError\\\" class=\\\"error\\\">\\n                                            <label class=\\\"texxt\\\">Address Line 1 is Required</label>\\n                                        </div>\\n                                    </li>\\n                                    <li class=\\\"clearfix\\\">\\n                                        <div class=\\\"text\\\"><label class=\\\"\\\">Address Line 2</label></div>\\n                                        <div class=\\\"selection\\\">\\n                                            <input type=\\\"text\\\"   [(ngModel)]=\\\"Address2\\\"/>\\n                                        </div>\\n                                    </li>\\n                                    <li class=\\\"clearfix\\\">\\n                                        <div class=\\\"text\\\"><label class=\\\"required\\\">Country</label></div>\\n                                        <select id=\\\"countryId\\\" [(ngModel)]=\\\"CountryId\\\" (change)=\\\"onCountryChange()\\\" class=\\\"countryDropDown\\\">\\n                                      \\n                                            <option *ngFor=\\\"let country of countries\\\" value=\\\"{{country.countryId}}\\\">{{country.countryName}}\\n                                            </option>\\n                                        </select>\\n                                        <div id=\\\"countryRequiredError\\\" class=\\\"error\\\">\\n                                            <label class=\\\"texxt\\\">Country is Required</label>\\n                                        </div>\\n                                    </li>\\n                                     <li class=\\\"clearfix\\\">\\n                                        <div class=\\\"text\\\"><label class=\\\"required\\\">State/Province</label></div>\\n                                        \\n                                            <select id=\\\"stateId\\\" [(ngModel)]=\\\"StateProvinceId\\\" (change)=\\\"onStateChange(1)\\\" class=\\\"countryDropDown\\\">\\n                                                <option *ngFor=\\\"let state of states\\\" value=\\\"{{state.stateId}}\\\">{{state.stateName}}\\n                                                </option>\\n                                            </select>\\n                                        <div id=\\\"stateProvinceRequiredError\\\" class=\\\"error\\\">\\n                                            <label class=\\\"texxt\\\">State/Province is Required</label>\\n                                        </div>\\n                                    </li>\\n                                    <li class=\\\"clearfix\\\">\\n                                        <div class=\\\"text\\\"><label class=\\\"required\\\">City</label></div>\\n                                        <div class=\\\"selection\\\">\\n                                            <input type=\\\"text\\\"    [(ngModel)]=\\\"City\\\"/>\\n                                        </div>\\n                                        <div id=\\\"cityRequiredError\\\" class=\\\"error\\\">\\n                                            <label class=\\\"texxt\\\">City is Required</label>\\n                                        </div>\\n                                    </li>\\n                                    <li class=\\\"clearfix\\\">\\n                                        <div class=\\\"text\\\"><label class=\\\"required\\\">Zip/Postal code</label></div>\\n                                        <div class=\\\"selection\\\">\\n                                            <input type=\\\"text\\\"  [(ngModel)]=\\\"ZipPostalCode\\\"/>\\n                                        </div>\\n                                        <div id=\\\"zipPostalCodeRequiredError\\\" class=\\\"error\\\">\\n                                            <label class=\\\"texxt\\\">Zip/Postal code is Required</label>\\n                                        </div>\\n                                    </li>\\n                                    <li class=\\\"clearfix\\\">\\n                                        <div class=\\\"text\\\"><label class=\\\"required\\\">Telephone number</label></div>\\n                                        <div class=\\\"selection\\\">\\n                                            <input type=\\\"text\\\" id=\\\"phoneNumber\\\" [(ngModel)]=\\\"PhoneNumber\\\"/>\\n                                        </div>\\n                                        <div id=\\\"telephoneNumberRequiredError\\\" class=\\\"error\\\">\\n                                            <label class=\\\"texxt\\\">Telephone Number is Required</label>\\n                                        </div>\\n                                    </li>\\n                                </ul>\\n                                <div class=\\\"control-btns clearfix\\\">\\n                                    <a (click)=\\\"addShippingInfo()\\\" class=\\\"btn btn-blue next-btn step1-next pull-right\\\">Next</a>\\n                                </div>\\n                            </div>\\n                            <!--===-->\\n                            \\n                            <div class=\\\"step2\\\">\\n                                <ul class=\\\"form-details\\\">\\n                                     <li class=\\\"clearfix\\\">\\n                                        \\n                                        <div class=\\\"text\\\"><label class=\\\"required\\\">Credit card number</label></div>\\n                                        <div class=\\\"selection\\\">\\n                                         <div class=\\\"input-group input-group-transparent\\\"><input [(ngModel)]=\\\"cardNumber\\\" placeholder=\\\"\\\" id=\\\"transparent-input\\\" class=\\\"form-control\\\" type=\\\"text\\\"> <span class=\\\"input-group-addon\\\" style=\\\"background:#FBFCFD;\\\"></span></div>\\n                                        </div>\\n                                         <div id=\\\"creditCardNumberRequiredError\\\" class=\\\"error\\\">\\n                                            <label class=\\\"texxt\\\">Credit Card Number is Required</label>\\n                                        </div>\\n                                    </li>\\n                                     <li class=\\\"clearfix\\\">\\n                                        <div class=\\\"text\\\"><label class=\\\"required\\\">CVC</label></div>\\n                                        <div class=\\\"selection\\\">\\n                                            <input [(ngModel)]=\\\"cvc\\\" type=\\\"text\\\">\\n                                        </div>\\n                                    </li>\\n                                    <li class=\\\"clearfix\\\">\\n                                        <div class=\\\"text\\\"><label class=\\\"required\\\">Expiration date</label></div>\\n                                        <div class=\\\"selection\\\">\\n                                            <div class=\\\"row\\\">\\n                                                <div class=\\\"col-md-6\\\">\\n                                                    <div class=\\\"custome-select clearfix\\\">\\n                                                        <b class=\\\"fa fa-caret-down\\\"></b>\\n                                                        <span>MM</span>\\n                                                        <select id=\\\"expiryMonth\\\" required>\\n                                                            <option value=\\\"1\\\">January</option>\\n                                                            <option value=\\\"2\\\">Feburary</option>  \\n                                                            <option value=\\\"3\\\">March</option>\\n                                                            <option value=\\\"4\\\">April</option>  \\n                                                            <option value=\\\"5\\\">May</option>\\n                                                            <option value=\\\"6\\\">June</option>  \\n                                                            <option value=\\\"7\\\">July</option>\\n                                                            <option value=\\\"8\\\">August</option>  \\n                                                            <option value=\\\"9\\\">September</option>\\n                                                            <option value=\\\"10\\\">October</option>  \\n                                                            <option value=\\\"11\\\">November</option>\\n                                                            <option value=\\\"12\\\">December</option>               \\n                                                        </select>\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"col-md-6\\\">\\n                                                    <div class=\\\"custome-select clearfix\\\">\\n                                                        <b class=\\\"fa fa-caret-down\\\"></b>\\n                                                        <span>YY</span>\\n                                                        <select id=\\\"expiryYear\\\" required>\\n                                                            <option value=\\\"2017\\\">2017</option>\\n                                                            <option value=\\\"2018\\\">2018</option> \\n                                                            <option value=\\\"2019\\\">2019</option>\\n                                                            <option value=\\\"2020\\\">2020</option> \\n                                                            <option value=\\\"2021\\\">2021</option>\\n                                                            <option value=\\\"2022\\\">2022</option>\\n                                                            <option value=\\\"2023\\\">2023</option>                 \\n                                                        </select>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                    </li>\\n                                    <li class=\\\"clearfix\\\">\\n                                        <div class=\\\"text\\\"><label class=\\\"required\\\">Billing Zip/Postal code</label></div>\\n                                        <div class=\\\"selection\\\">\\n                                            <input [(ngModel)]=\\\"ZipPostal\\\" type=\\\"text\\\" placeholder=\\\"Zip/postal code from the address registered\\\">\\n                                        </div>\\n                                    </li>\\n                                </ul>\\n                                <div class=\\\"control-btns clearfix\\\">\\n                                    <a (click)=\\\"getToken()\\\" class=\\\"btn btn-blue next-btn step2-next pull-right\\\">Next</a>\\n                                </div>\\n                            </div>\\n                            <!--====-->\\n                            \\n                            <div class=\\\"step3\\\">\\n                                <div class=\\\"review-order\\\">\\n                                    <h5>Order summary</h5>\\n                                    <div class=\\\"price-review\\\">\\n                                       <!-- <ul class=\\\"total-shipping\\\">\\n                                            <li>\\n                                                <span class=\\\"tag\\\" style=\\\"color:black;\\\">Item total</span>\\n                                                <span class=\\\"price\\\">$ {{TotalPrice}}</span>\\n                                            </li>\\n                                            <li>\\n                                                <span class=\\\"tag\\\" style=\\\"color:black;\\\">Shipping Charges</span>\\n                                                <span class=\\\"\\\">$ {{TotalShippingPrice}}</span>\\n                                            </li>\\n                                        </ul> -->\\n                                        <table class=\\\"total-shipping\\\">\\n                                            <tbody>\\n                                            <tr>\\n                                                <td style=\\\"padding-top:15px;\\\"><span class=\\\"tag\\\" style=\\\"color:black;\\\">Item total</span></td>\\n                                                <td style=\\\"text-align:right;padding-top:15px;\\\"><span class=\\\"price\\\">$ {{TotalPrice}}</span></td>\\n                                            </tr>\\n                                            <tr>\\n                                               <td style=\\\"padding-top:15px;\\\"><span class=\\\"tag\\\" style=\\\"color:black;\\\">Shipping Charges</span></td>\\n                                                <td style=\\\"text-align:right;padding-top:15px;\\\"><span class=\\\"price\\\">$ {{TotalShippingPrice}}</span></td>\\n                                            </tr>\\n                                            </tbody>\\n                                        </table>\\n                                        <hr>\\n                                        <ul class=\\\"big bigTotal\\\">\\n                                            <li class=\\\"total\\\">\\n                                                <span class=\\\"tag\\\">Order Total</span>\\n                                                <span class=\\\"price\\\">US $ {{LastTotalPrice}}</span>\\n                                            </li>\\n                                        </ul>\\n                                        <a (click)=\\\"onPlaceOrder()\\\" class=\\\"pull-right placeOrderBtn\\\">Place Order</a>\\n                                    </div>\\n                                    \\n                                    <h5>Billing information</h5>\\n                                    <div class=\\\"price-review withBG \\\">\\n                                        <p>Credit card </p>\\n                                        <p class=\\\"no-margin\\\">MasterCard ****7234</p>\\n                                        <a class=\\\"edit-btn edit-step2\\\" href=\\\"#\\\">Edit</a>\\n                                    </div>\\n                                    \\n                                    <h5>Shipping information</h5>\\n                                    <div class=\\\"price-review withBG\\\">\\n                                        <p>{{FirstName}}</p>\\n                                        <p class=\\\"no-margin\\\">{{Address1}}</p>\\n                                        <p class=\\\"no-margin\\\">{{Country}}, {{ZipPostalCode}}</p>\\n                                        <a class=\\\"edit-btn edit-step1\\\" href=\\\"#\\\">Edit</a>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n\\n\\n                    <div class=\\\"col-md-5 col-sm-12 col-lg-5 col-xs-12\\\">\\n                        <div class=\\\"cart-preview-outer\\\">\\n                            <div class=\\\"cart-preview\\\">\\n                                <h3>Shopping Cart</h3>\\n                                <div *ngFor=\\\"let shoppingCartItem of shoppingCartArray\\\" class=\\\"preview-unit\\\">\\n                                    <figure class=\\\"visual\\\" [ngStyle]=\\\"{'background-image': 'url(' + shoppingCartItem.pictureUrl + ')'}\\\"></figure>\\n                                    <span class=\\\"name\\\">{{shoppingCartItem.productName}}</span>\\n\\n                                    <ul class=\\\"type\\\">\\n                                        <li>\\n                                            <span class=\\\"tag\\\">Quantity:</span>\\n                                            <span class=\\\"value\\\">{{\\tshoppingCartItem.quantity}}</span>\\n                                        </li>\\n                                        <li>\\n                                            <span class=\\\"tag\\\">Shipping: </span>\\n                                            <span class=\\\"value\\\">${{shoppingCartItem.shippingCost}}</span>\\n                                        </li>\\n                                        <li>\\n                                            <span class=\\\"tag\\\">Estimated Arrival: </span>\\n                                            <span class=\\\"value\\\">{{shoppingCartItem.estimatedShippingTime}}</span>\\n                                        </li>\\n                                    </ul>\\n                                    <div class=\\\"old-new-price\\\">\\n                                    <del class=\\\"previous-price\\\" *ngIf=\\\"shoppingCartItem.oldPrice != 0\\\">$ {{shoppingCartItem.oldPrice}}</del>\\n                                    <span class=\\\"discounted\\\">$ {{shoppingCartItem.price}} </span>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                            \\n                        </div>\\n                    </div>\\n                    </div>\\n              <!--  </div>    Left column ends -->\\n\\n            </div>\\n        </div>\\n    </div>\\n </div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/checkout/checkout.template.html\n// module id = ./src/app/checkout/checkout.template.html\n// module chunks = 19","\r\n    export class ShippingAddress {\r\n     public   Address1: string;\r\n        public  Address2: string;\r\n        public  City: string;\r\n        public  Country: string;\r\n        public  CountryId: number;\r\n        public  CreatedOnUtc: Date;\r\n         public Email: string;\r\n          public FaxNumber?: any;\r\n         public FirstName: string;\r\n         public LastName: string;\r\n        PhoneNumber: string;\r\n        StateProvinceId?: any;\r\n        StateProvinceText: string;\r\n        ZipPostalCode: string;\r\n        save: boolean;\r\n        message?: any;\r\n        customerId:number;\r\n        orderId:number;\r\n    }\r\n\r\n    export class UserAddressModel {\r\n        hasShippingInfo: boolean;\r\n        hasBillingInfo: boolean;\r\n       public shippingAddress: ShippingAddress;\r\n        shippingAddressId: number;\r\n        billingInfo: string;\r\n        billingInfoId: number;\r\n    }\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/models/ShippingAddressModel.ts","import { Injectable, Inject } from '@angular/core';\r\nimport { Http, Headers, RequestOptions } from '@angular/http';\r\nimport 'rxjs/add/operator/map';\r\nimport { UrlService } from './UrlService';\r\n@Injectable()\r\nexport class CheckoutService {\r\n    urlService = new UrlService();\r\n    constructor(private http: Http) {\r\n\r\n    }\r\n\r\n\r\n    getAllCountries() {\r\n\r\n        return this.http.get(this.urlService.baseUrl + 'api/default/getListOfCountries')\r\n            .map(res => res.json());\r\n    }\r\n    getShippingAddress(customerId) {\r\n\r\n        return this.http.get(this.urlService.baseUrl + 'api/default/getShippingInfoBillingInfo/?customerId=' + customerId)\r\n            .map(res => res.json());\r\n    }\r\n\r\n    addShippingInformation(model) {\r\n        let body = JSON.stringify(model);\r\n        let headers = new Headers({ 'Content-Type': 'application/json' });\r\n        let options = new RequestOptions({ method: 'post', headers: headers });\r\n\r\n        return this.http.post(this.urlService.baseUrl + \"api/default/AddShippingInfo\", body, options)\r\n            .map(res => res.json());\r\n    }\r\n\r\n    placeOrder(customerId) {\r\n\r\n        return this.http.get(this.urlService.baseUrl + \"api/default/PlaceOrder/?customerId=\" + customerId)\r\n            .map(res => res.json());\r\n    }\r\n\r\n    getAllStatesOfConutry(countryId) {\r\n\r\n        return this.http.get(this.urlService.baseUrl + 'api/default/getListOfStates/?countryId=' + countryId)\r\n            .map(res => res.json());\r\n    }\r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/services/CheckoutService.ts"],"mappings":";;;;;;;AAAA;AACA;AAEA;AACA;AAIA;AAEA;AASA;AAwCA;AAxCA;AAwCA;AAAA;AACA;AAlCA;AAMA;AAoBA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAGA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAGA;AACA;AACA;AACA;AAGA;AAEA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAGA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAIA;AAjWA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAAA;AA8VA;;AAAA;AA7VA;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAYA;AAAA;AAEA;AADA;AAXA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAAA;AAGA;AAAA;AAFA;AAEA;;;;;;;;ACvBA;;;;;;;ACAA;;;;;;;;;ACCA;AAAA;AAmBA;AAAA;AAAA;AAnBA;AAqBA;AAAA;AAOA;AAAA;AAAA;AAPA;;;;;;;;;;ACtBA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AADA;AAGA;AAGA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAtCA;AAAA;;AAAA;AAyCA;;AAAA;AAxCA;;;;;","sourceRoot":""}