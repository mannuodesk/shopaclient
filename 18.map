{"version":3,"file":"18.chunk.js","sources":["webpack:///./src/app/models/AddReviewModel.ts?6375","webpack:///./src/app/models/AddToCartDTO.ts?dd92","webpack:///./src/app/models/KeyValuePairDTO.ts?1d59","webpack:///./src/app/productdetail/productdetail.component.ts","webpack:///./src/app/productdetail/productdetail.module.ts","webpack:///./src/app/productdetail/productdetail.template.html","webpack:///./src/app/services/ProductDetailsService.ts?a17d","webpack:///./src/app/services/ReviewsRatingsService.ts?d929"],"sourcesContent":["export class AddReviewModel\r\n    {\r\n         customerId:number;\r\n         productId:number;\r\n         reviewDescription:any;\r\n         rating:number; \r\n    }\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/models/AddReviewModel.ts","import {KeyValuePairDTO} from './KeyValuePairDTO';\r\nexport class AddToCartDTO {\r\n    customerId:number;\r\n    productId:number;\r\n    quantity:number;\r\n    shoppingCartTypeId:number;\r\n    keyValuePairDtoArray:KeyValuePairDTO[];\r\n    constructor() {\r\n        this.keyValuePairDtoArray = [];\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/models/AddToCartDTO.ts","export class KeyValuePairDTO {\r\n    keys:string;\r\n    value:string;\r\n    constructor() {\r\n    \r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/models/KeyValuePairDTO.ts","/**\r\n * Home Component typescript file\r\n */\r\nimport { Component, ViewEncapsulation } from '@angular/core';\r\nimport { ProductService } from './../services/ProductService';\r\nimport { ProductDetailsService } from './../services/ProductDetailsService';\r\nimport { ReviewsRatingsService } from './../services/ReviewsRatingsService';\r\nimport { ShoppingCartService } from './../services/ShoppingCartService';\r\nimport { ProductDetailModel } from './../models/ProductDetailModel';\r\nimport { PictureModel } from './../models/ProductDetailModel';\r\nimport { ProductReviewModel } from './../models/ReviewsRatingsModel';\r\nimport { ProductReviewList } from './../models/ReviewsRatingsModel';\r\nimport { ProductAttribute } from './../models/ProductDetailModel';\r\nimport { KeyValuePairDTO } from './../models/KeyValuePairDTO';\r\nimport { AddReviewModel } from './../models/AddReviewModel';\r\nimport { AddToCartDTO } from './../models/AddToCartDTO';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\n\r\nimport { FacebookService, UIParams, UIResponse } from 'ng2-facebook-sdk';\r\n\r\nimport { User } from './../models/User';\r\n@Component({\r\n  selector: 'product-detail',\r\n  template: require('./productdetail.template.html'),\r\n  providers: [ProductDetailsService, ShoppingCartService, ReviewsRatingsService],\r\n\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class ProductDetail {\r\n  public router: Router;\r\n  public keys: any[] = [];\r\n  public values: any[] = [];\r\n  public addToCartDTO: AddToCartDTO;\r\n  public keyValuePair: KeyValuePairDTO;\r\n  public product: ProductDetailModel;\r\n  productId: number = 0;\r\n  public productprice: any;\r\n  public producttitle: any;\r\n  public user: User;\r\n  public productimages: PictureModel[] = [];\r\n  public oldprice: any;\r\n  public mainimage: any;\r\n  public productdescription: any;\r\n  public discountpercentage: number;\r\n  public ProductAttributes: ProductAttribute[] = [];\r\n  public errors: any[];\r\n  public productReviewList: ProductReviewList[] = [];\r\n  public reviewsRatings: ProductReviewModel;\r\n  public reviewDescription: any;\r\n  public addReviewModel: AddReviewModel;\r\n  public totalRating: number;\r\n  public ratingAverage: number;\r\n  public isAllowedReview: number;\r\n  public successMsgAfterReview: any;\r\n  public isReviewedNow: number;\r\n  public productRecentReviewList: ProductReviewList[] = [];\r\n  constructor(private activatedRoute: ActivatedRoute, public _productdetail:\r\n    ProductDetailsService, private fb: FacebookService, public _shoppingCartService: ShoppingCartService, public _reviewsAndRatingsService: ReviewsRatingsService, router: Router) {\r\n    this.router = router;\r\n    this.isReviewedNow = 0;\r\n    this.addReviewModel = new AddReviewModel();\r\n    this.user = JSON.parse(localStorage.getItem('user'));\r\n    this.activatedRoute.queryParams.subscribe((params: Params) => {\r\n      this.productId = params['productId'];\r\n      //Here you will call service and populate the model\r\n      this._productdetail.getProductDetails(this.productId, this.user.Id).subscribe(\r\n        a => {\r\n          console.log(a);\r\n          //alert();\r\n          this.product = a.data.productDetailsModel;\r\n          if (this.user.role == \"Guests\") {\r\n            this.isAllowedReview = 0;\r\n          }\r\n          else\r\n            this.isAllowedReview = a.data.isAllowedForReview;\r\n          this.productdescription = this.product.FullDescription;\r\n          this.productprice = this.product.ProductPrice.Price;\r\n          this.producttitle = this.product.Name;\r\n          this.productimages = this.product.PictureModels;\r\n          this.oldprice = this.product.ProductPrice.OldPrice;\r\n          this.mainimage = this.productimages[0].FullSizeImageUrl;\r\n          this.ProductAttributes = this.product.ProductAttributes;\r\n          console.log(this.product.ProductPrice.OldPrice);\r\n          this.discountpercentage = a.data.discountPercentage\r\n          this.reviewDescription = \"\";\r\n          console.log(this.product.ProductPrice);\r\n          var native_width = 0;\r\n          var native_height = 0;\r\n          jQuery(\".large\").css(\"background\", \"url('\" + this.mainimage + \"') no-repeat\");\r\n          //Now the mousemove function\r\n          jQuery(\".magnify\").mousemove(function (e) {\r\n            //When the user hovers on the image, the script will first calculate\r\n            //the native dimensions if they don't exist. Only after the native dimensions\r\n            //are available, the script will show the zoomed version.\r\n            if (!native_width && !native_height) {\r\n              //This will create a new image object with the same image as that in .small\r\n              //We cannot directly get the dimensions from .small because of the \r\n              //width specified to 200px in the html. To get the actual dimensions we have\r\n              //created this image object.\r\n              var image_object = new Image();\r\n              image_object.src = jQuery(\".small\").attr(\"src\");\r\n              //This code is wrapped in the .load function which is important.\r\n              //width and height of the object would return 0 if accessed before \r\n              //the image gets loaded.\r\n              native_width = image_object.width;\r\n              native_height = image_object.height;\r\n            }\r\n            else {\r\n              //x/y coordinates of the mouse\r\n              //This is the position of .magnify with respect to the document.\r\n              var magnify_offset = jQuery(this).offset();\r\n              //We will deduct the positions of .magnify from the mouse positions with\r\n              //respect to the document to get the mouse positions with respect to the \r\n              //container(.magnify)\r\n              var mx = e.pageX - magnify_offset.left;\r\n              var my = e.pageY - magnify_offset.top;\r\n\r\n              //Finally the code to fade out the glass if the mouse is outside the container\r\n              if (mx < jQuery(this).width() && my < jQuery(this).height() && mx > 0 && my > 0) {\r\n                $(\".large\").fadeIn(100);\r\n              }\r\n              else {\r\n                $(\".large\").fadeOut(100);\r\n              }\r\n              if ($(\".large\").is(\":visible\")) {\r\n                //The background position of .large will be changed according to the position\r\n                //of the mouse over the .small image. So we will get the ratio of the pixel\r\n                //under the mouse pointer with respect to the image and use that to position the \r\n                //large image inside the magnifying glass\r\n                var rx = Math.round(mx / jQuery(\".small\").width() * native_width - jQuery(\".large\").width() / 2) * -1;\r\n                var ry = Math.round(my / jQuery(\".small\").height() * native_height - jQuery(\".large\").height() / 2) * -1;\r\n                var bgp = rx + \"px \" + ry + \"px\";\r\n                //Time to move the magnifying glass with the mouse\r\n                var px = mx - jQuery(\".large\").width() / 2;\r\n                var py = my - jQuery(\".large\").height() / 2;\r\n                //Now the glass moves with the mouse\r\n                //The logic is to deduct half of the glass's width and height from the \r\n                //mouse coordinates to place it with its center at the mouse coordinates\r\n\r\n                //If you hover on the image now, you should see the magnifying glass in action\r\n                jQuery(\".large\").css({ left: px, top: py, backgroundPosition: bgp });\r\n              }\r\n            }\r\n          })\r\n\r\n\r\n        }\r\n\r\n\r\n      );\r\n\r\n\r\n\r\n\r\n\r\n    });\r\n\r\n    this._reviewsAndRatingsService.getReviewsAndRatings(this.productId, 0, 10).subscribe(\r\n\r\n      data => {\r\n        console.log(data);\r\n        this.reviewsRatings = data.data;\r\n        this.productReviewList = this.reviewsRatings.productReviewList;\r\n\r\n        this.productReviewList.forEach(element => {\r\n          if (element.customerName == \"\" || element.customerName == undefined || element.customerName == null || element.customerName.trim().length == 0) {\r\n            element.customerName = \"Registered with Email\"\r\n          }\r\n          if (element.imageUrl == \"noimage.png\") {\r\n            element.imageUrl = \"assets/img/noimage.png\";\r\n          }\r\n        });\r\n        if (this.reviewsRatings.productReviewList[0] != undefined) {\r\n          this.productRecentReviewList = [];\r\n          this.productRecentReviewList[0] = this.reviewsRatings.productReviewList[0];\r\n        }\r\n        else {\r\n          this.productRecentReviewList = null;\r\n        }\r\n        this.totalRating = this.reviewsRatings.totalRating;\r\n        this.ratingAverage = this.reviewsRatings.ratingAverage;\r\n        console.log(this.reviewsRatings);\r\n      }\r\n    );\r\n\r\n  }\r\n  rating: number = 0;\r\n  selectRating(val) {\r\n    for (var i = 1; i <= 5; i++) {\r\n      jQuery('#st' + i).removeClass('coloredStar');\r\n    }\r\n    for (var i = 1; i <= val; i++) {\r\n      jQuery('#st' + i).addClass('coloredStar');\r\n    }\r\n    this.rating = val;\r\n  }\r\n  AddReview() {\r\n\r\n    console.log(this.reviewDescription);\r\n    this.addReviewModel.customerId = this.user.Id;\r\n    this.addReviewModel.productId = this.productId;\r\n    this.addReviewModel.reviewDescription = this.reviewDescription;\r\n    this.addReviewModel.rating = this.rating;\r\n    this._reviewsAndRatingsService.addReview(this.addReviewModel).subscribe(\r\n      data => {\r\n        if (data.code == 200) {\r\n          this.successMsgAfterReview = \"Your Review is Submitted Successfully.\";\r\n          this.isAllowedReview = 0;\r\n          this.isReviewedNow = 1;\r\n        }\r\n      }\r\n    );\r\n  }\r\n  changeimage(image: any) {\r\n    this.mainimage = image;\r\n    jQuery(\".large\").css(\"background\", \"url('\" + this.mainimage + \"') no-repeat\");\r\n    //Now the mousemove function\r\n    jQuery(\".magnify\").mousemove(function (e) {\r\n      //When the user hovers on the image, the script will first calculate\r\n      //the native dimensions if they don't exist. Only after the native dimensions\r\n      //are available, the script will show the zoomed version.\r\n      if (!native_width && !native_height) {\r\n        //This will create a new image object with the same image as that in .small\r\n        //We cannot directly get the dimensions from .small because of the \r\n        //width specified to 200px in the html. To get the actual dimensions we have\r\n        //created this image object.\r\n        var image_object = new Image();\r\n        image_object.src = jQuery(\".small\").attr(\"src\");\r\n        //This code is wrapped in the .load function which is important.\r\n        //width and height of the object would return 0 if accessed before \r\n        //the image gets loaded.\r\n        native_width = image_object.width;\r\n        native_height = image_object.height;\r\n      }\r\n      else {\r\n        //x/y coordinates of the mouse\r\n        //This is the position of .magnify with respect to the document.\r\n        var magnify_offset = jQuery(this).offset();\r\n        //We will deduct the positions of .magnify from the mouse positions with\r\n        //respect to the document to get the mouse positions with respect to the \r\n        //container(.magnify)\r\n        var mx = e.pageX - magnify_offset.left;\r\n        var my = e.pageY - magnify_offset.top;\r\n\r\n        //Finally the code to fade out the glass if the mouse is outside the container\r\n        if (mx < jQuery(this).width() && my < jQuery(this).height() && mx > 0 && my > 0) {\r\n          $(\".large\").fadeIn(100);\r\n        }\r\n        else {\r\n          $(\".large\").fadeOut(100);\r\n        }\r\n        if ($(\".large\").is(\":visible\")) {\r\n          //The background position of .large will be changed according to the position\r\n          //of the mouse over the .small image. So we will get the ratio of the pixel\r\n          //under the mouse pointer with respect to the image and use that to position the \r\n          //large image inside the magnifying glass\r\n          var rx = Math.round(mx / jQuery(\".small\").width() * native_width - jQuery(\".large\").width() / 2) * -1;\r\n          var ry = Math.round(my / jQuery(\".small\").height() * native_height - jQuery(\".large\").height() / 2) * -1;\r\n          var bgp = rx + \"px \" + ry + \"px\";\r\n          //Time to move the magnifying glass with the mouse\r\n          var px = mx - jQuery(\".large\").width() / 2;\r\n          var py = my - jQuery(\".large\").height() / 2;\r\n          //Now the glass moves with the mouse\r\n          //The logic is to deduct half of the glass's width and height from the \r\n          //mouse coordinates to place it with its center at the mouse coordinates\r\n\r\n          //If you hover on the image now, you should see the magnifying glass in action\r\n          jQuery(\".large\").css({ left: px, top: py, backgroundPosition: bgp });\r\n        }\r\n      }\r\n    })\r\n  }\r\n  makeKeyValue(key, value) {\r\n    this.keys.push(key);\r\n    this.values.push(value);\r\n  }\r\n  onBuyNow() {\r\n    jQuery('#addToCartErrors').hide();\r\n    this.addToCartDTO = new AddToCartDTO();\r\n    for (var i = 0; i < this.keys.length; i++) {\r\n      this.keyValuePair = new KeyValuePairDTO();\r\n      this.keyValuePair.keys = this.keys[i];\r\n      this.keyValuePair.value = this.values[i];\r\n      this.addToCartDTO.keyValuePairDtoArray.push(this.keyValuePair);\r\n\r\n\r\n    }\r\n    this.addToCartDTO.customerId = this.user.Id;\r\n    this.addToCartDTO.productId = this.productId;\r\n    this.addToCartDTO.shoppingCartTypeId = 1;\r\n    this.addToCartDTO.quantity = 1;\r\n    this._shoppingCartService.addToCart(this.addToCartDTO).subscribe(\r\n      a => {\r\n        if (a.success == true) {\r\n          var cartcount = jQuery(\".header-btn .cart-icon .head_btn .count\").text();\r\n\r\n          jQuery(\".header-btn .cart-icon .head_btn .count\").text(++cartcount);\r\n          this.router.navigate(['/app/cart']);\r\n        }\r\n        else {\r\n          console.log(a);\r\n          jQuery('#addToCartErrors').show();\r\n          this.errors = a.message;\r\n        }\r\n      }\r\n    );\r\n  }\r\n  onWishList() {\r\n    jQuery('#addToCartErrors').hide();\r\n    this.addToCartDTO = new AddToCartDTO();\r\n    this.addToCartDTO.customerId = this.user.Id;\r\n    this.addToCartDTO.productId = this.productId;\r\n    this.addToCartDTO.shoppingCartTypeId = 2;\r\n    this.addToCartDTO.quantity = 1;\r\n    this._shoppingCartService.addToCart(this.addToCartDTO).subscribe(\r\n      a => {\r\n        if (a.success == true) {\r\n          console.log('Added to Wish List');\r\n          //this.router.navigate(['/app/cart']);\r\n        }\r\n        else {\r\n          console.log(a);\r\n          jQuery('#addToCartErrors').show();\r\n          this.errors = a.message;\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n\r\n\r\n  }\r\n\r\n  shareWithFacebook() {\r\n\r\n    let params: UIParams = {\r\n      href: window.location.href,\r\n      method: 'share'\r\n    };\r\n\r\n    this.fb.ui(params)\r\n      .then((res: UIResponse) => console.log(res))\r\n      .catch((e: any) => console.error(e));\r\n\r\n  }\r\n  shareWithTwitter(){\r\n    window.open(\"http://twitter.com/share?text=Sharing A Product of SHOPA&url=\"+ window.location.href +\"&hashtags=shopa,\" + this.producttitle);\r\n  }\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/productdetail/productdetail.component.ts","/**\r\n * New typescript file\r\n */\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { ProductDetail } from './productdetail.component';\r\n\r\nexport const routes = [\r\n  { path: '', component: ProductDetail, pathMatch: 'full' }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ProductDetail\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    RouterModule.forChild(routes),\r\n  ]\r\n})\r\nexport default class ProductDetailModule {\r\n  static routes = routes;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/productdetail/productdetail.module.ts","module.exports = \"<div class=\\\"main-section\\\">\\r\\n    <div class=\\\"container\\\">\\r\\n\\r\\n        <div class=\\\"section-main detail-page\\\">\\r\\n            <div class=\\\"prod-detail-top clearfix\\\">\\r\\n                <div class=\\\"prod-zoom\\\">\\r\\n                    <div class=\\\"magnify\\\">\\r\\n                    \\t<div class=\\\"large\\\"></div>\\r\\n                   <!-- <div id=\\\"zoom_prod\\\" class=\\\"zoom-main\\\" [ngStyle]=\\\"{'background-image': 'url(' + mainimage + ')'}\\\" imageZoom=\\\"zoomedImageSrc\\\" [attr.data-zoom-image]=\\\"mainimage\\\">\\r\\n                        <span class=\\\"tag medium\\\"><i class=\\\"fa fa-arrows-alt\\\"></i>Mouseover to zoom image</span>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"detail-discount-tag\\\" *ngIf=\\\"discountpercentage!=0\\\"><p>-{{discountpercentage}}%</p></div>\\r\\n                    </div>-->\\r\\n                    <img class=\\\"small\\\" src=\\\"{{mainimage}}\\\">\\r\\n                    </div>\\r\\n\\t\\t\\t\\t\\t\\r\\n                    <ul id=\\\"gallery-zoom\\\" class=\\\"thumbnails clearfix\\\">\\r\\n                        \\r\\n                        <li *ngFor=\\\"let img of productimages\\\">\\r\\n                            <a (click)=\\\"changeimage(img.FullSizeImageUrl)\\\" id=\\\"toprevent\\\" [attr.data-image]=\\\"img.ImageUrl\\\"  [attr.data-zoom-image]=\\\"img.ImageUrl\\\">\\r\\n                                <div id=\\\"zoom_prod\\\" class=\\\"thumb\\\" [ngStyle]=\\\"{'background-image': 'url(' + img.ImageUrl + ')'}\\\">\\r\\n                                </div>\\r\\n                              \\r\\n                            </a>\\r\\n                        </li>\\r\\n                        \\r\\n                    </ul>\\r\\n                </div>\\r\\n                <div class=\\\"detail-content\\\">\\r\\n                    <h2 class=\\\"medium\\\">{{producttitle}}</h2>\\r\\n                    <div class=\\\"star-rating star-{{ratingAverage}}\\\"></div>\\r\\n                                        <div class=\\\"rating-count medium\\\">({{totalRating}})</div>\\r\\n                    <div class=\\\"price\\\">\\r\\n                        <span class=\\\"now medium\\\"> {{productprice}} </span><span class=\\\"texxt currency\\\">USD</span>\\r\\n                        <del class=\\\"medium\\\">{{oldprice}}</del>\\r\\n                        \\r\\n                    </div>\\r\\n                   \\r\\n                    \\r\\n                    <div class=\\\"selections\\\">\\r\\n                        <ul class=\\\"clearfix\\\">\\r\\n                            <li *ngFor=\\\"let productAttribute of ProductAttributes\\\">\\r\\n                                <div class=\\\"fancy_select select-category\\\">\\r\\n                                    <div class=\\\"select_triger\\\">\\r\\n                                        <span class=\\\"text medium\\\">{{productAttribute.Name}}</span>\\r\\n                                        <i class=\\\"fa fa-angle-down\\\"></i>\\r\\n                                    </div>\\r\\n                                    <div class=\\\"select_options\\\">\\r\\n                                       \\r\\n                                        <span  *ngFor=\\\"let value of productAttribute.Values\\\" (click)=\\\"makeKeyValue(productAttribute.Id,value.Id)\\\">{{value.Name}}</span>\\r\\n                                        \\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </li>\\r\\n                           \\r\\n                        </ul>\\r\\n                        \\r\\n                    </div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div id=\\\"addToCartErrors\\\" class=\\\"error\\\">\\r\\n                            <label *ngFor=\\\"let error of errors\\\" class=\\\"texxt error-width\\\">{{error}}</label>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"prod-btns clearfix\\\">\\r\\n                        <a class=\\\"buy cart-btn medium\\\" (click)=\\\"onBuyNow()\\\"><img src=\\\"assets/img/images/thumb_03.png\\\">&nbsp;&nbsp;&nbsp;Buy</a>\\r\\n                        <a class=\\\"save cart-btn medium\\\" (click)=\\\"onWishList()\\\"><img src=\\\"assets/img/images/thumb_07.png\\\">&nbsp;&nbsp;&nbsp;Save</a>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"share-btns clearfix\\\">\\r\\n                    <div (click)=\\\"shareWithFacebook()\\\" class=\\\"fb-share\\\">\\r\\n                            <div class=\\\"logo-left\\\"><img src=\\\"assets/img/fb.png\\\"></div>\\r\\n                            <div class=\\\"vertical-line\\\"></div>\\r\\n                            <div class=\\\"text-share\\\">\\r\\n                            Share\\r\\n                            </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div (click)=\\\"shareWithTwitter()\\\" class=\\\"tw-share\\\">\\r\\n                            <div class=\\\"logo-left\\\"><img src=\\\"assets/img/tw.png\\\"></div>\\r\\n                            <div class=\\\"vertical-line\\\"></div>\\r\\n                            <div class=\\\"text-share\\\">\\r\\n                            Share\\r\\n                            </div>\\r\\n                    </div>\\r\\n\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"prod-detail-bottom\\\">\\r\\n                <div class=\\\"tabs-wrapper detail-tabs\\\">\\r\\n                    <ul class=\\\"tabs clearfix semibold\\\">\\r\\n                        <li class=\\\"active\\\"><a href=\\\"#tab1\\\">Overview</a></li>\\r\\n                        <li><a href=\\\"#tab2\\\">Related Products</a></li>\\r\\n                        <li><a href=\\\"#tab3\\\">Description</a></li>\\r\\n                        <li><a href=\\\"#tab4\\\">Ratings</a></li>\\r\\n                        <li><a href=\\\"#tab6\\\">Shipping</a></li>\\r\\n                    </ul>\\r\\n                    <div class=\\\"tab-panel\\\">\\r\\n                        <div id=\\\"tab1\\\" class=\\\"tab-pane active\\\">\\r\\n                            <a href=\\\"#\\\" class=\\\"accorTrigger\\\">Overview</a>\\r\\n                            <div class=\\\"accorContent\\\">\\r\\n                                <div class=\\\"tab-overview clearfix\\\">\\r\\n                                    <div class=\\\"review\\\">\\r\\n                                        <div *ngIf=\\\"isReviewedNow==1\\\">\\r\\n                                           <b> Your Review is Submitted Successfully.</b>\\r\\n                                        </div>\\r\\n                                        <div *ngIf=\\\"isAllowedReview==1\\\" class=\\\"add-review clearfix\\\">\\r\\n                                            <h4>add a review</h4>\\r\\n                                            <div class=\\\"add_review_stars\\\">\\r\\n                                                <i id=\\\"st1\\\" class=\\\"fa fa-star\\\" aria-hidden=\\\"true\\\" (click)=\\\"selectRating(1)\\\"></i>\\r\\n                                                <i id=\\\"st2\\\" class=\\\"fa fa-star\\\" aria-hidden=\\\"true\\\" (click)=\\\"selectRating(2)\\\"></i>\\r\\n                                                <i id=\\\"st3\\\" class=\\\"fa fa-star\\\" aria-hidden=\\\"true\\\" (click)=\\\"selectRating(3)\\\"></i>\\r\\n                                                <i id=\\\"st4\\\" class=\\\"fa fa-star\\\" aria-hidden=\\\"true\\\" (click)=\\\"selectRating(4)\\\"></i>\\r\\n                                                <i id=\\\"st5\\\" class=\\\"fa fa-star\\\" aria-hidden=\\\"true\\\" (click)=\\\"selectRating(5)\\\"></i>\\r\\n                                            </div>\\r\\n                                            <textarea [(ngModel)]=\\\"reviewDescription\\\" maxlength=\\\"250\\\"  placeholder=\\\"Max 250 characters...\\\"></textarea>\\r\\n                                            <button (click)=\\\"AddReview()\\\" class=\\\"btn btn-blue submit\\\">Submit Review</button>\\r\\n                                        </div>\\r\\n                                        <div class=\\\"prod-reviews small clearfix\\\">\\r\\n                                            <h4>recent reviews</h4>\\r\\n                                            <a class=\\\"showall\\\" href=\\\"#tab4\\\">VIEW ALL</a>\\r\\n                                            <div class=\\\"clearfix\\\"></div>\\r\\n                                            <div class=\\\"unit-wrapper\\\">\\r\\n                                                \\r\\n                                                <div class=\\\"review-unit\\\" *ngFor=\\\"let value of productRecentReviewList\\\">\\r\\n                                         <figure class=\\\"visual recentreview\\\" [ngStyle]=\\\"{'background-image': 'url(' + value.imageUrl + ')'}\\\"></figure>\\r\\n                                            <div class=\\\"star-rating star-{{value.customerRatings}}\\\"></div>\\r\\n                                            <h5 class=\\\"name\\\">{{value.customerName}}</h5>\\r\\n                                            <p style=\\\"text-align: justify;\\\">{{value.reviewDescription}}</p>\\r\\n                                            <span class=\\\"time\\\">about 9 hours ago</span>\\r\\n                                        </div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                    <div class=\\\"arrival\\\">\\r\\n                                        <ul class=\\\"text-list\\\">\\r\\n                                            <li>\\r\\n                                                <span class=\\\"text\\\">estimated arrival</span>\\r\\n                                                <span class=\\\"text1\\\">30 - 40 days</span>\\r\\n                                            </li>\\r\\n                                            <li>\\r\\n                                                <span class=\\\"text\\\">shipping</span>\\r\\n                                                <span class=\\\"text1\\\">$ 2.00</span>\\r\\n                                            </li>\\r\\n                                        </ul>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div id=\\\"tab2\\\" class=\\\"tab-pane \\\">\\r\\n                            <a href=\\\"#\\\" class=\\\"accorTrigger\\\">Related Products</a>\\r\\n                            <div class=\\\"accorContent\\\">\\r\\n                                <div class=\\\"products-wrapper grid-4 products clearfix related\\\">\\r\\n                                   \\r\\n\\r\\n                                    <div class=\\\"product\\\" (mousedown)=\\\"rightClick($event, product.Id)\\\">\\r\\n                                        <div class=\\\"product-inner\\\" style=\\\"background:url(assets/img/block-img.jpg)\\\">\\r\\n                                            <span class=\\\"discount-tag semibold\\\">-70%</span>\\r\\n                                        </div>\\r\\n                                        <div class=\\\"product-description\\\">\\r\\n                                        <span class=\\\"old-price medium\\\">$ 50</span>\\r\\n                                            <span class=\\\"new-price medium\\\">$ 80-</span>\\r\\n                                            <span class=\\\"item-sold medium\\\"> 2+ sold</span>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                    <div class=\\\"product\\\" (mousedown)=\\\"rightClick($event, product.Id)\\\">\\r\\n                                        <div class=\\\"product-inner\\\" style=\\\"background:url(assets/img/block-img.jpg)\\\">\\r\\n                                            <span class=\\\"discount-tag semibold\\\">-70%</span>\\r\\n                                        </div>\\r\\n                                        <div class=\\\"product-description\\\">\\r\\n                                        <span class=\\\"old-price medium\\\">$ 50</span>\\r\\n                                            <span class=\\\"new-price medium\\\">$ 80-</span>\\r\\n                                            <span class=\\\"item-sold medium\\\"> 2+ sold</span>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                    <div class=\\\"product\\\" (mousedown)=\\\"rightClick($event, product.Id)\\\">\\r\\n                                        <div class=\\\"product-inner\\\" style=\\\"background:url(assets/img/block-img.jpg)\\\">\\r\\n                                            <span class=\\\"discount-tag semibold\\\">-70%</span>\\r\\n                                        </div>\\r\\n                                        <div class=\\\"product-description\\\">\\r\\n                                        <span class=\\\"old-price medium\\\">$ 50</span>\\r\\n                                            <span class=\\\"new-price medium\\\">$ 80-</span>\\r\\n                                            <span class=\\\"item-sold medium\\\"> 2+ sold</span>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                    <div class=\\\"product\\\" (mousedown)=\\\"rightClick($event, product.Id)\\\">\\r\\n                                        <div class=\\\"product-inner\\\" style=\\\"background:url(assets/img/block-img.jpg)\\\">\\r\\n                                            <span class=\\\"discount-tag semibold\\\">-70%</span>\\r\\n                                        </div>\\r\\n                                        <div class=\\\"product-description\\\">\\r\\n                                        <span class=\\\"old-price medium\\\">$ 50</span>\\r\\n                                            <span class=\\\"new-price medium\\\">$ 80-</span>\\r\\n                                            <span class=\\\"item-sold medium\\\"> 2+ sold</span>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                    <div class=\\\"product\\\" (mousedown)=\\\"rightClick($event, product.Id)\\\">\\r\\n                                        <div class=\\\"product-inner\\\" style=\\\"background:url(assets/img/block-img.jpg)\\\">\\r\\n                                            <span class=\\\"discount-tag semibold\\\">-70%</span>\\r\\n                                        </div>\\r\\n                                        <div class=\\\"product-description\\\">\\r\\n                                        <span class=\\\"old-price medium\\\">$ 50</span>\\r\\n                                            <span class=\\\"new-price medium\\\">$ 80-</span>\\r\\n                                            <span class=\\\"item-sold medium\\\"> 2+ sold</span>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n\\r\\n                                    \\r\\n                                   \\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div id=\\\"tab3\\\" class=\\\"tab-pane\\\">\\r\\n                            <a href=\\\"#\\\" class=\\\"accorTrigger\\\">Description</a>\\r\\n                            <div class=\\\"accorContent\\\">\\r\\n                                <div class=\\\"prod-description\\\">\\r\\n                                    <h4>Description</h4>\\r\\n                                    <span [innerHtml]=\\\"productdescription\\\"></span>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div id=\\\"tab4\\\" class=\\\"tab-pane\\\">\\r\\n                            <a href=\\\"#\\\" class=\\\"accorTrigger\\\">Ratings</a>\\r\\n                            <div class=\\\"accorContent\\\">\\r\\n                                <div class=\\\"total-ratings\\\">\\r\\n                                    <div class=\\\"main\\\">\\r\\n                                        <div class=\\\"star-rating star-{{ratingAverage}}\\\"></div>\\r\\n                                        <span class=\\\"count\\\">({{totalRating}})</span>\\r\\n                                    </div>\\r\\n                                    <ul>\\r\\n                                        <li>\\r\\n                                            <div class=\\\"rating\\\">\\r\\n                                                <div class=\\\"star-rating star-5\\\"></div>\\r\\n                                            </div>\\r\\n                                            <div class=\\\"progress\\\">\\r\\n                                              <div class=\\\"progress-bar\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"40\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\" style=\\\"width: 40%\\\">\\r\\n                                                <span class=\\\"sr-only\\\">40% Complete (success)</span>\\r\\n                                              </div>\\r\\n                                            </div>\\r\\n                                        </li>\\r\\n                                        <li>\\r\\n                                            <div class=\\\"rating\\\">\\r\\n                                                <div class=\\\"star-rating star-4\\\"></div>\\r\\n                                            </div>\\r\\n                                            <div class=\\\"progress\\\">\\r\\n                                              <div class=\\\"progress-bar\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"80\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\" style=\\\"width: 80%\\\">\\r\\n                                                <span class=\\\"sr-only\\\">40% Complete (success)</span>\\r\\n                                              </div>\\r\\n                                            </div>\\r\\n                                        </li>\\r\\n                                        <li>\\r\\n                                            <div class=\\\"rating\\\">\\r\\n                                                <div class=\\\"star-rating star-3\\\"></div>\\r\\n                                            </div>\\r\\n                                            <div class=\\\"progress\\\">\\r\\n                                              <div class=\\\"progress-bar\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"20\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\" style=\\\"width: 20%\\\">\\r\\n                                                <span class=\\\"sr-only\\\">40% Complete (success)</span>\\r\\n                                              </div>\\r\\n                                            </div>\\r\\n                                        </li>\\r\\n                                        <li>\\r\\n                                            <div class=\\\"rating\\\">\\r\\n                                                <div class=\\\"star-rating star-2\\\"></div>\\r\\n                                            </div>\\r\\n                                            <div class=\\\"progress\\\">\\r\\n                                              <div class=\\\"progress-bar\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"68\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\" style=\\\"width: 68%\\\">\\r\\n                                                <span class=\\\"sr-only\\\">40% Complete (success)</span>\\r\\n                                              </div>\\r\\n                                            </div>\\r\\n                                        </li>\\r\\n                                        <li>\\r\\n                                            <div class=\\\"rating\\\">\\r\\n                                                <div class=\\\"star-rating star-1\\\"></div>\\r\\n                                            </div>\\r\\n                                            <div class=\\\"progress\\\">\\r\\n                                              <div class=\\\"progress-bar\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"90\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\" style=\\\"width: 90%\\\">\\r\\n                                                <span class=\\\"sr-only\\\">40% Complete (success)</span>\\r\\n                                              </div>\\r\\n                                            </div>\\r\\n                                        </li>\\r\\n                                    </ul>\\r\\n                                </div>\\r\\n                                \\r\\n                                <div class=\\\"prod-reviews full clearfix\\\">\\r\\n                                    <div class=\\\"unit-wrapper\\\">\\r\\n                                        <div class=\\\"reviews-scroller\\\">\\r\\n                                        <div class=\\\"review-unit\\\" *ngFor=\\\"let value of productReviewList\\\">\\r\\n                                            <figure class=\\\"visual\\\" [ngStyle]=\\\"{'background-image': 'url(' + value.imageUrl + ')'}\\\"></figure>\\r\\n                                            <div class=\\\"star-rating star-{{value.customerRatings}}\\\"></div>\\r\\n                                            <h5 class=\\\"name\\\">{{value.customerName}}</h5>\\r\\n                                            <p>{{value.reviewDescription}}</p>\\r\\n                                            <span class=\\\"time\\\">about 9 hours ago</span>\\r\\n                                        </div>\\r\\n                                       \\r\\n                                       \\r\\n                                        \\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                                \\r\\n                            </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div id=\\\"tab6\\\" class=\\\"tab-pane \\\">\\r\\n                            <a href=\\\"#\\\" class=\\\"accorTrigger\\\">Shipping</a>\\r\\n                            <div class=\\\"accorContent\\\">\\r\\n                                <div class=\\\"shipping-detail\\\">\\r\\n                                    <h4>Shipping details</h4>\\r\\n                                    <ul class=\\\"detail\\\">\\r\\n                                        <li><span class=\\\"title\\\">Estimated shipping</span><span class=\\\"values\\\">$ 4.99</span></li>\\r\\n                                        <li><span class=\\\"title\\\">Availability</span><span class=\\\"values\\\">Ships to United States and 32 other countries</span></li>\\r\\n                                        <li><span class=\\\"title\\\">Estimated arrival</span><span class=\\\"values\\\">17 - 23 days</span></li>\\r\\n                                        <li><span class=\\\"title\\\">Return policy</span><span class=\\\"values\\\">You may return all products within 30 days of delivery.\\r\\n                                            </span><a class=\\\"more-detail\\\" href=\\\"#\\\">More Details</a>\\r\\n                                        </li>\\r\\n                                    </ul>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        \\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        \\r\\n    </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/productdetail/productdetail.template.html\n// module id = ./src/app/productdetail/productdetail.template.html\n// module chunks = 18","import {Injectable,Inject} from '@angular/core';\r\nimport {Http,Headers, RequestOptions} from '@angular/http';\r\nimport 'rxjs/add/operator/map';\r\nimport {UrlService} from './UrlService';\r\n@Injectable()\r\nexport class ProductDetailsService{\r\n    urlService = new UrlService();\r\n    constructor(private http:Http)\r\n    {\r\n\r\n    }\r\n    getProductDetails(Id,customerId)\r\n    {\r\n        return this.http.get(this.urlService.baseUrl + 'api/default/ProductDetails/?productId='+Id+'&customerId='+customerId)\r\n            .map(res=>res.json());\r\n    }\r\n    \r\n}\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/services/ProductDetailsService.ts","import { Injectable, Inject } from '@angular/core';\r\nimport { Http, Headers, RequestOptions } from '@angular/http';\r\nimport 'rxjs/add/operator/map';\r\nimport { UrlService } from './UrlService';\r\n@Injectable()\r\nexport class ReviewsRatingsService {\r\n    urlService = new UrlService();\r\n    constructor(private http: Http) {\r\n\r\n    }\r\n\r\n\r\n    getReviewsAndRatings(productid,pageNum,pageSize) {\r\n\r\n        return this.http.get(this.urlService.baseUrl + 'api/default/getProductReviewsByProductId/?productid='+productid\r\n        +\"&pageNum=\"+pageNum+\"&pageSize=\"+pageSize)\r\n            .map(res => res.json());\r\n    }\r\n     addReview(model){\r\n        let body = JSON.stringify(model);\r\n        let headers = new Headers({ 'Content-Type': 'application/json' });\r\n        let options = new RequestOptions({ method:'post', headers: headers });\r\n\r\n        return this.http.post(this.urlService.baseUrl + \"api/default/addProductReviews\", body, options)\r\n            .map(res=>res.json());\r\n    }\r\n\r\n \r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/services/ReviewsRatingsService.ts"],"mappings":";;;;;;;AAAA;AAAA;AAMA;AAAA;AAAA;AANA;;;;;;;;;;ACCA;AAMA;AACA;AACA;AACA;AAAA;AATA;;;;;;;;;;ACDA;AAGA;AAEA;AACA;AAAA;AANA;;;;;;;;;;ACAA;;AAEA;AACA;AAEA;AACA;AACA;AAMA;AACA;AACA;AACA;AAEA;AAUA;AA4BA;AA5BA;AA4BA;AAAA;AACA;AAAA;AAAA;AA3BA;AACA;AAIA;AAIA;AAKA;AAEA;AASA;AAmIA;AAhIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AASA;AAEA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAIA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAxUA;AAAA;AACA;AACA;AACA;AAEA;AACA;;AAAA;AAmUA;;AAAA;AAlUA;;;;;;;;;;;AC5BA;;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAYA;AAAA;AAEA;AADA;AAXA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAAA;AAGA;AAAA;AAFA;AAEA;;;;;;;;AC1BA;;;;;;;;;ACAA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AADA;AAIA;AACA;AAEA;AACA;AACA;AAXA;AAAA;;AAAA;AAaA;;AAAA;AAZA;;;;;;;;;;ACLA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AADA;AAGA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AArBA;AAAA;;AAAA;AA0BA;;AAAA;AAzBA;;;;;","sourceRoot":""}